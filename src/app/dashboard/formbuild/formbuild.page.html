<ion-header>
</ion-header>

<ion-content>
  <nav class="navitab">
    <div class ="maxwidth">
      <div class ="logo"><img src="../../assets/imgs/BatStateU-NEU-Logo.png">
      <img src="../../../assets/imgs/frmn logo 2.png" alt="">
      </div>
      <div class="logo2">
        <a href="#" [routerLink]="['/news']">FORMANA</a>
        <a href="#" [routerLink]="['/dashboard']">DASHBOARD</a>
      </div>
        <ul class = "opt">
          <li><a href="#"><i class="fa fa-bell-o" aria-hidden="true"></i></a></li>
          <li><a href="#" [routerLink]="['/login']"><i class="fa fa-user" aria-hidden="true"></i></a></li>
        </ul>
          <div class ="opt-btn">
            <i class="fa fa-bars"></i>
          </div>
    </div>
  </nav>
  <div class="welcomeText">
    <div class="text">
      Form Creation Page
    </div>
  </div>
  <div class="formCreate">
    <form [formGroup]="myForm" (ngSubmit)="onSubmit(f)" #f="ngForm">
      <div class="buttonlayout">
        <div class="above">
          <h1>Create Form</h1>
          <p>Information</p>
        </div>
        <div class="below">
          <label for="butt">Add New Question</label>
          <button id="butt" type="button" class="btn btn-primary btn-sm" (click)="addNewQuestion()">
            <i class="fa fa-plus" aria-hidden="true"></i>
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </button>
        </div>
      </div>
      <div class="form-group">
        <label for="title" style="color: black;">Form Title <span> by </span></label>
        <input type="text"
              id="title"
              class="form-control"
              placeholder="Title"
              name="title"
              formControlName="title"
              style="width: 40%;"
              required>
      </div>
      <div formArrayName="questions">
        <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let question of myForm.get('questions').controls; let i=index">
          <fieldset>
            <legend><h4 style="color: black;">Question {{i+1}}:<button style="margin-left:35px;" type="button" class="btn btn-danger" (click)="deleteQuestion(i)">
    <span class="glyphicon glyphicon-minus"aria-hidden="true"></span> Remove Question
    </button>
    </h4></legend>
            <div [formGroupName]="i">
              <div class="form-inline">
                <div class="form-group">
                  <label style="margin-right:80px;" style="color: black;"class="col-form-label" for="question">Question</label>
                  <input type="text"
                        class="form-control"
                        id="question"
                        placeholder="Question"
                        name="type"
                        formControlName="question" 
                        style="margin-right:5px; width: 40%;" 
                        required>
                  <button style="margin-right:5px;"  type="button" class="btn btn-success btn-sm" (click)="addNewComment(question.controls.comments)">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add New Answer
                  </button>
                  

                </div>
              </div>
              <div class="form-inline">
                <div class="form-group">
                  <div formArrayName="comments">
                    <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let lines of question.get('comments').controls; let j=index">
                      <div [formGroupName]="j">
                        <div class="form-group">
                        <label style="color: black;" style="margin-right:5px;" class="col-form-label" for="emailId" style="color: black;">Answer {{j + 1}}</label><br>
                        <select formControlName="comment"
                              class="form-control"
                              style="margin-right:5px; width: 40%;" 
                              type="email"
                              placeholder="Answers"
                              id="comment"
                              name="comment"
                              size="1"
                                >
                                <option value="text">Text Box</option>
                                </select>
                    <button style="margin-right:5px;" type="button" class="btn btn-danger btn-sm" (click)="deleteComment(question.controls.comments, j)">
    <span class="glyphicon glyphicon-minus"aria-hidden="true">Remove Answer</span>
    </button>


                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </fieldset>
        </div>
      </div>

      
      <button type="submit" class="btn btn-success" (click)="pass()">Submit</button>
      <button type="button" class="btn btn-basic" >Cancel</button>
    </form>

     <pre>{{myForm.value | json}}</pre>
  </div>



</ion-content>
