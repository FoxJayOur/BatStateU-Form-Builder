<ion-header>
</ion-header>

<ion-content>
  <nav class="navitab">
    <div class ="maxwidth">
      <div class ="logo"><img src="../../assets/imgs/BatStateU-NEU-Logo.png">
      <img src="../../../assets/imgs/frmn logo 2.png" alt="">
      </div>
      <div class="logo2">
        <a href="#" [routerLink]="['/news']">FORMANA</a>
        <a href="#" [routerLink]="['/dashboard']">DASHBOARD</a>
      </div>
        <ul class = "opt">
          <li><a href="#" id="hover-trigger"><i class="fa fa-bell-o" aria-hidden="true"></i></a></li>
          <li><a href="#" [routerLink]="['/login']"><i class="fa fa-sign-out" aria-hidden="true">
            <ion-popover trigger="hover-trigger" triggerAction="hover">
              <ng-template>
                <ion-content class="ion-padding" style="color: black">EMAIL NOTIFICATIONS! TO BE UPDATED!</ion-content>
              </ng-template>
            </ion-popover>
          </i></a></li>
        </ul>
          <div class ="opt-btn">
            <i class="fa fa-bars"></i>
          </div>
    </div>
  </nav>
  <div class="welcomeText">
    <div class="text">
      Form Creation Page
    </div>
  </div>
  <div class="formCreate">
    <form [formGroup]="myForm" (ngSubmit)="onSubmit()" #f="ngForm">
      <div class="buttonlayout">
        <div class="above">
          <h1>Create Form</h1>
          <p>Information</p>
        </div>
        <div class="below">
          <label for="butt">Short Answer</label>
          <button id="butt" type="button" class="btn btn-primary btn-sm" (click)="addNewQuestion()">
            <i class="fa fa-plus" aria-hidden="true"></i>
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </button>
          <label for="butt">Multiple Choice</label>
          <button id="butt" type="button" class="btn btn-primary btn-sm" (click)="addNewQuestion2()">
            <i class="fa fa-plus" aria-hidden="true"></i>
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </button>
          <label for="butt">Paragraph</label>
          <button id="butt" type="button" class="btn btn-primary btn-sm" (click)="addNewQuestion3()">
            <i class="fa fa-plus" aria-hidden="true"></i>
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </button>
        </div>
      </div>
      <div class="form-group">
        <label for="title" style="color: black;">Form Title <span> by </span></label>
        <input type="text"
              id="title"
              class="form-control"
              placeholder="Title"
              name="title"
              formControlName="title"
              style="width: 40%;"
              required>
      </div>
      <div class="form-group">
        <label for="textarea" style="color: black;">Form Description</label>
        <ion-textarea formControlName="description"
                              class="form-control"
                              style="margin-right:5px; width: 40%;" 
                              type="textarea"
                              placeholder="Description"
                              id="textarea"
                              name="description"
                              size="1"
                                >
                              </ion-textarea>
      </div>
      <div class="form-group">
        <label for="title" style="color: black;">Expiration Date</label>
        <input type="date"
              id="expiryDate"
              class="form-control"
              placeholder="Expiration Date"
              name="expiryDate"
              formControlName="expiryDate"
              style="width: 40%;"
              required>
      </div>
      <div formArrayName="questions">
        <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let question of myForm.get('questions')['controls']; let i=index">
          <fieldset>
            <legend><h4 style="color: black;">Question:<button type="button" style="background-color: rgb(180, 0, 0); padding: 3px; border-radius: 7px; margin-left: 10px;" (click)="deleteQuestion(i)">
              <i class="fa fa-trash" aria-hidden="true"></i>
    </button>
    </h4></legend>
            <div [formGroupName]="i">
              <div class="form-inline">
                <div class="form-group">
                  <label style="margin-right:80px;" style="color: black;"class="col-form-label" for="question">Question</label>
                  <input type="text"
                        class="form-control"
                        id="question"
                        placeholder="Question"
                        name="type"
                        formControlName="question" 
                        style="margin-right:5px; width: 40%;" 
                        required>
                  <button style="margin-right:5px;"  type="button" class="btn btn-success btn-sm" (click)="addNewComment(question.controls.comments)">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add New Answer
                  </button>
                  

                </div>
              </div>
              <div class="form-inline">
                <div class="form-group">
                  <div formArrayName="comments">
                    <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let lines of question.get('comments')['controls']; let j=index">
                      <div [formGroupName]="j">
                        <div class="form-group">
                        <label style="color: black;" style="margin-right:5px;" class="col-form-label" for="emailId" style="color: black;">Answer {{j + 1}}</label><br>
                        <input formControlName="comment"
                              class="form-control"
                              style="margin-right:5px; width: 40%;" 
                              type="text"
                              placeholder="Answers"
                              id="comment"
                              name="comment"
                              size="1"
                                >
                    <button style="margin-right:5px;" type="button" class="btn btn-danger btn-sm" (click)="deleteComment(question.controls.comments, j)">
    <span class="glyphicon glyphicon-minus"aria-hidden="true">Remove Answer</span>
    </button>


                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </fieldset>
        </div>
      </div>
      <div formArrayName="questions2">
        <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let question of myForm.get('questions2')['controls']; let i=index">
          <fieldset>
            <legend><h4 style="color: black;">Question:<button type="button" style="background-color: rgb(180, 0, 0); padding: 3px; border-radius: 7px; margin-left: 10px;" (click)="deleteQuestion2(i)">
              <i class="fa fa-trash" aria-hidden="true"></i>
    </button>
    </h4></legend>
            <div [formGroupName]="i">
              <div class="form-inline">
                <div class="form-group">
                  <label style="margin-right:80px;" style="color: black;"class="col-form-label" for="question">Question</label>
                  <input type="text"
                        class="form-control"
                        id="question"
                        placeholder="Question"
                        name="type"
                        formControlName="question" 
                        style="margin-right:5px; width: 40%;" 
                        required>
                  <button style="margin-right:5px;"  type="button" class="btn btn-success btn-sm" (click)="addNewComment(question.controls.comments)">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add New Option
                  </button>
                  

                </div>
              </div>
              <div class="form-inline">
                <div class="form-group">
                  <div formArrayName="comments">
                    <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let lines of question.get('comments')['controls']; let j=index">
                      <div [formGroupName]="j">
                        <div class="form-group">
                        <label style="color: black;" style="margin-right:5px;" class="col-form-label" for="emailId" style="color: black;">Option {{j + 1}}</label><br>
                        <input formControlName="comment"
                              class="form-control"
                              style="margin-right:5px; width: 40%;" 
                              type="text"
                              placeholder="Answers"
                              id="comment"
                              name="comment"
                              size="1"
                                >
                    <button style="margin-right:5px;" type="button" class="btn btn-danger btn-sm" (click)="deleteComment(question.controls.comments, j)">
    <span class="glyphicon glyphicon-minus"aria-hidden="true">Remove Option</span>
    </button>


                        </div>
                      </div>
                    </div>
                  </div>

                  <button style="margin-right:5px;"  type="button" class="btn btn-success btn-sm" (click)="addNewComment(question.controls.comments2)">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add New Answer
                  </button>


                  <div formArrayName="comments2">
                    <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let lines of question.get('comments2')['controls']; let j=index">
                      <div [formGroupName]="j">
                        <div class="form-group">
                        <label style="color: black;" style="margin-right:5px;" class="col-form-label" for="emailId" style="color: black;">Answer {{j + 1}}</label><br>
                        <select formControlName="comment"
                              class="form-control"
                              style="margin-right:5px; width: 40%;" 
                              type="text"
                              placeholder="Answers"
                              id="comment"
                              name="comment"
                              size="1"
                                >
                                <option value="Option 1">Option 1</option>
                                <option value="Option 2">Option 2</option>
                                <option value="Option 3">Option 3</option>
                                <option value="Option 4">Option 4</option>
                        </select>
                    <button style="margin-right:5px;" type="button" class="btn btn-danger btn-sm" (click)="deleteComment(question.controls.comments2, j)">
    <span class="glyphicon glyphicon-minus"aria-hidden="true">Remove Answer</span>
    </button>


                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </fieldset>
        </div>
      </div>
      <div formArrayName="questions3">
        <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let question of myForm.get('questions3')['controls']; let i=index">
          <fieldset>
            <legend><h4 style="color: black;">Question:<button type="button" style="background-color: rgb(180, 0, 0); padding: 3px; border-radius: 7px; margin-left: 10px;" (click)="deleteQuestion3(i)">
              <i class="fa fa-trash" aria-hidden="true"></i>
    </button>
    </h4></legend>
            <div [formGroupName]="i">
              <div class="form-inline">
                <div class="form-group">
                  <label style="margin-right:80px;" style="color: black;"class="col-form-label" for="question">Question</label>
                  <input type="text"
                        class="form-control"
                        id="question"
                        placeholder="Question"
                        name="type"
                        formControlName="question" 
                        style="margin-right:5px; width: 40%;" 
                        required>
                  <button style="margin-left: 1%;" type="button" class="btn btn-success btn-sm" (click)="addNewComment3(question.controls.comments)">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add New Answer
                  </button>
                  <i class="fa fa-car"></i>
                  

                </div>
              </div>
              <div class="form-inline">
                <div class="form-group">
                  <div formArrayName="comments">
                    <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let lines of question.get('comments')['controls']; let j=index">
                      <div [formGroupName]="j">
                        <div class="form-group">
                        <label style="color: black;" style="margin-right:5px;" class="col-form-label" for="emailId" style="color: black;">Answer {{j + 1}}</label><br>
                        <ion-textarea formControlName="comment"
                              class="form-control"
                              style="margin-right:5px; width: 40%;" 
                              type="textarea"
                              placeholder="Answers"
                              id="textarea"
                              name="comment"
                              size="1"
                                >
                              </ion-textarea>
                    <button style="margin-right:5px;" type="button" class="btn btn-danger btn-sm" (click)="deleteComment(question.controls.comments, j)">
    <span class="glyphicon glyphicon-minus"aria-hidden="true">Remove Answer</span>
    </button>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </fieldset>
        </div>
      </div>
      <div class="form-group">
        <label for="title" style="color: black;">Approved by: </label>
        <input type="text"
              id="approvedBy"
              class="form-control"
              placeholder="Approved by"
              name="approvedBy"
              formControlName="approvedBy"
              style="width: 40%;"
              required>
      </div>

      <button id="open-modalMain" type="button" class="btn btn-success" style="padding: 25px; margin: 8px;">Submit</button>
        <ion-modal trigger="open-modalMain">
          <ng-template>
            <ion-content class="ion-padding">
              <div class="titleLabel" style="background: rgb(214, 213, 213); padding: 18px; margin-bottom: 80px; border-radius: 10px; text-align: center;">
                <ion-label style="font-size: 25px; font-family:'Poppins', sans-serif; color: black;">CHOOSE BUILDING DESIGNATION</ion-label>
              </div>
              <div class="ion-activatable ripple-parent rectangle" style="border: none;">
                <button type="button" (click)="pass()" style="background-color: rgba(158,0,0,255);
                border-radius: 35px; width: 100%; height: 47px; margin-top: 25px;">
                CICS Building<ion-ripple-effect></ion-ripple-effect></button>
              </div>
              <div class="ion-activatable ripple-parent rectangle" style="border: none;">
                <button type="button" (click)="pass2()" style="background-color: rgba(158,0,0,255);
                border-radius: 35px; width: 100%; height: 47px; margin-top: 25px;">
                CEAFA Building<ion-ripple-effect></ion-ripple-effect></button>
              </div>
              <div class="ion-activatable ripple-parent rectangle" style="border: none;">
                <button type="button" (click)="pass3()" style="background-color: rgba(158,0,0,255);
                border-radius: 35px; width: 100%; height: 47px; margin-top: 25px;">
                Faculty<ion-ripple-effect></ion-ripple-effect></button>
              </div>
            </ion-content>
          </ng-template>
        </ion-modal>
      <button type="button" class="btn btn-basic" [routerLink]="['/dashboard/createforms']" style="background-color: rgb(214, 213, 213); 
      padding: 25px; margin: 8px;">Cancel</button>
      
    </form>
  </div>



</ion-content>
